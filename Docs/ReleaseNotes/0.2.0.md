# Release Notes - Version 0.2.0

## Major Changes

### Multi-Platform Support
- **Breaking Change**: Module renamed from `PipelineUtils` to `PipelineUtils` to reflect broader platform support
- Added full support for **GitHub Actions** alongside existing Azure DevOps Pipelines support
- Automatic detection of CI/CD environment with appropriate command syntax

## New Features

### Platform Detection
- New `PipelineType` enum to identify the current environment (Unknown, AzureDevOps, GitHubActions)
- New private function `Get-PipelineType` to automatically detect the CI/CD platform
- Updated `Test-PipelineContext` to work with both Azure DevOps and GitHub Actions

### GitHub Actions Support
All existing cmdlets now work seamlessly with GitHub Actions:

#### Variable Management
- `Set-PipelineVariable` now writes to `$env:GITHUB_ENV` for environment variables
- Output variables are written to `$env:GITHUB_OUTPUT`
- Support for multiline values using heredoc-style delimiters
- Secrets use `::add-mask::` command

#### Logging
- Errors and warnings use `::error::` and `::warning::` syntax
- Debug messages use `::debug::`
- Info messages use `::notice::`
- Support for file annotations with line and column numbers

#### Build Management
- `Add-PipelineSummary` writes to `$env:GITHUB_STEP_SUMMARY`
- `Add-PipelinePath` writes to `$env:GITHUB_PATH`
- Groups use `::group::` and `::endgroup::` commands

#### Other Features
- Build numbers and release numbers are set as environment variables and notices
- Progress tracking uses notice commands
- Task completion signals with appropriate exit codes

## Updated Cmdlets

All public cmdlets have been updated:
- `Set-PipelineVariable` - Now supports both platforms with appropriate syntax
- `Set-PipelineSecretValue` - Uses platform-specific secret masking
- `Write-PipelineError` / `Write-PipelineWarning` - Platform-specific error/warning syntax
- `Write-PipelineDebug` - Platform-specific debug messages
- `Write-PipelineGroupStart` / `Write-PipelineGroupEnd` - Collapsible groups on both platforms
- `Add-PipelineSummary` - Markdown summaries on both platforms
- `Add-PipelinePath` - PATH manipulation on both platforms
- `Add-PipelineBuildTag` - Build tagging (Azure DevOps) or notices (GitHub Actions)
- `Set-PipelineBuildNumber` / `Set-PipelineReleaseNumber` - Build/release naming
- `Write-PipelineProgress` / `Write-PipelineTaskProgress` - Progress reporting
- `Complete-PipelineTask` - Task completion with status

## Migration Guide

### For Existing Users

If you're currently using `PipelineUtils`, follow these steps to migrate:

1. **Uninstall the old module:**
   ```powershell
   Uninstall-Module PipelineUtils
   ```

2. **Install the new module:**
   ```powershell
   Install-Module PipelineUtils
   ```

3. **Update import statements in your scripts:**
   ```powershell
   # Old
   Import-Module PipelineUtils
   
   # New
   Import-Module PipelineUtils
   ```

4. **No changes needed to cmdlet calls** - All cmdlets work the same way, the module automatically detects the environment

### Compatibility

- All existing cmdlets maintain backward compatibility with Azure DevOps Pipelines
- Scripts written for Azure DevOps will continue to work without modification
- The module automatically detects the environment and uses appropriate commands

## Technical Details

### Architecture Changes
- New `Enum/PipelineTypes.ps1` defines supported pipeline types
- New `Private/Get-PipelineType.ps1` for environment detection
- Updated `Private/Test-PipelineContext.ps1` to use new detection logic
- Updated `Private/Write-PipelineIssue.ps1` with multi-platform support

### Environment Detection
- **Azure DevOps**: Detected by presence of `TF_BUILD`, `AGENT_ID`, or `BUILD_BUILDID` environment variables
- **GitHub Actions**: Detected by presence of `GITHUB_ACTIONS`, `GITHUB_WORKFLOW`, or `GITHUB_RUN_ID` environment variables

## Known Limitations

### GitHub Actions
- Build tags are not directly supported (implemented as notices and outputs)
- Secret flags must be pre-configured in repository settings (cannot be set dynamically like in Azure DevOps)
- Classic release pipelines are Azure DevOps-specific (GitHub Actions equivalent is environment variables)
- ReadOnly variable flag is not applicable

## Credits

Special thanks to the community for requesting multi-platform support!

---

For detailed usage examples and documentation, see the [README.md](../README.md).
